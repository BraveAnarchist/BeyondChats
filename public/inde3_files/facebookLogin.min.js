jQuery(document).ready(()=>{window.fbAsyncInit=function(){FB.init({appId:"412329824851847",cookie:!0,xfbml:!0,version:"v19.0"})},function(e,o,a){var n,l=e.getElementsByTagName(o)[0];!e.getElementById(a)&&((n=e.createElement(o)).id=a,n.src="https://connect.facebook.net/en_US/sdk.js",l.parentNode.insertBefore(n,l))}(document,"script","facebook-jssdk");let e=()=>{FB.login(e=>{console.log(e),console.log("test"),e.authResponse?o():console.log("error")},{scope:"email"})},o=()=>{FB.api("/me",{locale:"en_US",fields:"first_name,last_name,email"},e=>{if(e.email){let o={firstname:e.first_name,lastname:e.last_name,email:e.email,logintype:"facebook"};jQuery.ajax({type:"POST",url:"/user/sociallogin/save",data:o,dataType:"json",beforeSend(){console.log("in beforeSend"),jQuery(".body-popup-overlay").show()},success(e){0==e.error?location.reload():jQuery(".pop-error").text(e.message)},complete:()=>jQuery(".body-popup-overlay").hide()})}})};jQuery("#facebooklogin").on({click(o){e()}}),jQuery("#facebooklogin1").on({click(o){e()}}),jQuery("#facebooklogin2").on({click(o){e()}})});